<Window x:Class="SimpleXmlEditor.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Settings - XML AI Translator" Height="400" Width="600"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize" 
        Background="#F5F5F5">
    
    <Window.Resources>
        <!-- Modern Button Style -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="16,10"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="6" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1976D2"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#1565C0"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Success Button Style -->
        <Style x:Key="SuccessButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#4CAF50"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#45a049"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Secondary Button Style -->
        <Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#9E9E9E"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#757575"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Modern TextBox Style -->
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="6">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                         Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="BorderBrush" Value="#2196F3"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Modern ComboBox Style -->
        <Style x:Key="ModernComboBox" TargetType="ComboBox">
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>
    </Window.Resources>

    <Border Background="White" CornerRadius="12" Margin="16">
        <Border.Effect>
            <DropShadowEffect Color="#E0E0E0" Direction="270" ShadowDepth="4" BlurRadius="16" Opacity="0.3"/>
        </Border.Effect>
        
        <Grid Margin="32">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,24">
                <TextBlock Text="âš™ï¸" FontSize="24" VerticalAlignment="Center" Margin="0,0,12,0"/>
                <StackPanel>
                    <TextBlock Text="AI Configuration" FontSize="20" FontWeight="Bold" Foreground="#1976D2"/>
                    <TextBlock Text="Configure your Gemini API settings" FontSize="12" Foreground="#666" Margin="0,2,0,0"/>
                </StackPanel>
            </StackPanel>

            <!-- API Key Section -->
            <StackPanel Grid.Row="1" Margin="0,0,0,20">
                <TextBlock Text="ðŸ”‘ API Key" FontSize="14" FontWeight="Bold" Foreground="#424242" Margin="0,0,0,8"/>
                <TextBox Name="ApiKeyTextBox" Style="{StaticResource ModernTextBox}" 
                         MaxLength="100"/>
                <TextBlock Text="Enter your Google Gemini API key from AI Studio" 
                          FontSize="11" Foreground="#666" Margin="0,4,0,0"/>
            </StackPanel>

            <!-- Model Selection Section -->
            <StackPanel Grid.Row="2" Margin="0,0,0,20">
                <TextBlock Text="ðŸ¤– AI Model" FontSize="14" FontWeight="Bold" Foreground="#424242" Margin="0,0,0,8"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <ComboBox Grid.Column="0" Name="ModelComboBox" 
                             Style="{StaticResource ModernComboBox}" 
                             Margin="0,0,12,0">
                        <!-- Models will be populated dynamically -->
                    </ComboBox>
                    
                    <Button Grid.Column="1" Name="RefreshModelsBtn" 
                           Content="ðŸ”„ Refresh" Click="RefreshModelsBtn_Click" 
                           Style="{StaticResource ModernButton}" 
                           Background="#FF9800" Width="100"/>
                </Grid>
                <TextBlock Text="Select an AI model with rate limits and pricing info" 
                          FontSize="11" Foreground="#666" Margin="0,4,0,0"/>
            </StackPanel>

            <!-- Target Language Section -->
            <StackPanel Grid.Row="3" Margin="0,0,0,20">
                <TextBlock Text="ðŸŒ Target Language" FontSize="14" FontWeight="Bold" Foreground="#424242" Margin="0,0,0,8"/>
                <ComboBox Name="TargetLanguageComboBox" Style="{StaticResource ModernComboBox}">
                    <ComboBoxItem Content="ðŸ‡¹ðŸ‡· Turkish (TÃ¼rkÃ§e)" Tag="Turkish"/>
                    <ComboBoxItem Content="ðŸ‡ªðŸ‡¸ Spanish (EspaÃ±ol)" Tag="Spanish"/>
                    <ComboBoxItem Content="ðŸ‡«ðŸ‡· French (FranÃ§ais)" Tag="French"/>
                    <ComboBoxItem Content="ðŸ‡©ðŸ‡ª German (Deutsch)" Tag="German"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡¹ Italian (Italiano)" Tag="Italian"/>
                    <ComboBoxItem Content="ðŸ‡µðŸ‡¹ Portuguese (PortuguÃªs)" Tag="Portuguese"/>
                    <ComboBoxItem Content="ðŸ‡·ðŸ‡º Russian (Ð ÑƒÑÑÐºÐ¸Ð¹)" Tag="Russian"/>
                    <ComboBoxItem Content="ðŸ‡¯ðŸ‡µ Japanese (æ—¥æœ¬èªž)" Tag="Japanese"/>
                    <ComboBoxItem Content="ðŸ‡°ðŸ‡· Korean (í•œêµ­ì–´)" Tag="Korean"/>
                    <ComboBoxItem Content="ðŸ‡¨ðŸ‡³ Chinese Simplified (ç®€ä½“ä¸­æ–‡)" Tag="Chinese (Simplified)"/>
                    <ComboBoxItem Content="ðŸ‡¹ðŸ‡¼ Chinese Traditional (ç¹é«”ä¸­æ–‡)" Tag="Chinese (Traditional)"/>
                    <ComboBoxItem Content="ðŸ‡¦ðŸ‡ª Arabic (Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)" Tag="Arabic"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡³ Hindi (à¤¹à¤¿à¤¨à¥à¤¦à¥€)" Tag="Hindi"/>
                    <ComboBoxItem Content="ðŸ‡³ðŸ‡± Dutch (Nederlands)" Tag="Dutch"/>
                    <ComboBoxItem Content="ðŸ‡¸ðŸ‡ª Swedish (Svenska)" Tag="Swedish"/>
                    <ComboBoxItem Content="ðŸ‡³ðŸ‡´ Norwegian (Norsk)" Tag="Norwegian"/>
                    <ComboBoxItem Content="ðŸ‡©ðŸ‡° Danish (Dansk)" Tag="Danish"/>
                    <ComboBoxItem Content="ðŸ‡«ðŸ‡® Finnish (Suomi)" Tag="Finnish"/>
                    <ComboBoxItem Content="ðŸ‡µðŸ‡± Polish (Polski)" Tag="Polish"/>
                    <ComboBoxItem Content="ðŸ‡¨ðŸ‡¿ Czech (ÄŒeÅ¡tina)" Tag="Czech"/>
                    <ComboBoxItem Content="ðŸ‡­ðŸ‡º Hungarian (Magyar)" Tag="Hungarian"/>
                    <ComboBoxItem Content="ðŸ‡·ðŸ‡´ Romanian (RomÃ¢nÄƒ)" Tag="Romanian"/>
                    <ComboBoxItem Content="ðŸ‡¬ðŸ‡· Greek (Î•Î»Î»Î·Î½Î¹ÎºÎ¬)" Tag="Greek"/>
                    <ComboBoxItem Content="ðŸ‡§ðŸ‡¬ Bulgarian (Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸)" Tag="Bulgarian"/>
                    <ComboBoxItem Content="ðŸ‡­ðŸ‡· Croatian (Hrvatski)" Tag="Croatian"/>
                    <ComboBoxItem Content="ðŸ‡¸ðŸ‡° Slovak (SlovenÄina)" Tag="Slovak"/>
                    <ComboBoxItem Content="ðŸ‡¸ðŸ‡® Slovenian (SlovenÅ¡Äina)" Tag="Slovenian"/>
                    <ComboBoxItem Content="ðŸ‡±ðŸ‡¹ Lithuanian (LietuviÅ³)" Tag="Lithuanian"/>
                    <ComboBoxItem Content="ðŸ‡±ðŸ‡» Latvian (LatvieÅ¡u)" Tag="Latvian"/>
                    <ComboBoxItem Content="ðŸ‡ªðŸ‡ª Estonian (Eesti)" Tag="Estonian"/>
                    <ComboBoxItem Content="ðŸ‡ºðŸ‡¦ Ukrainian (Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°)" Tag="Ukrainian"/>
                    <ComboBoxItem Content="ðŸ‡§ðŸ‡¾ Belarusian (Ð‘ÐµÐ»Ð°Ñ€ÑƒÑÐºÐ°Ñ)" Tag="Belarusian"/>
                    <ComboBoxItem Content="ðŸ‡·ðŸ‡¸ Serbian (Ð¡Ñ€Ð¿ÑÐºÐ¸)" Tag="Serbian"/>
                    <ComboBoxItem Content="ðŸ‡²ðŸ‡° Macedonian (ÐœÐ°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸)" Tag="Macedonian"/>
                    <ComboBoxItem Content="ðŸ‡¦ðŸ‡± Albanian (Shqip)" Tag="Albanian"/>
                    <ComboBoxItem Content="ðŸ‡²ðŸ‡¹ Maltese (Malti)" Tag="Maltese"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡¸ Icelandic (Ãslenska)" Tag="Icelandic"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡ª Irish (Gaeilge)" Tag="Irish"/>
                    <ComboBoxItem Content="ðŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿ Welsh (Cymraeg)" Tag="Welsh"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡± Hebrew (×¢×‘×¨×™×ª)" Tag="Hebrew"/>
                    <ComboBoxItem Content="ðŸ‡¹ðŸ‡­ Thai (à¹„à¸—à¸¢)" Tag="Thai"/>
                    <ComboBoxItem Content="ðŸ‡»ðŸ‡³ Vietnamese (Tiáº¿ng Viá»‡t)" Tag="Vietnamese"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡© Indonesian (Bahasa Indonesia)" Tag="Indonesian"/>
                    <ComboBoxItem Content="ðŸ‡²ðŸ‡¾ Malay (Bahasa Melayu)" Tag="Malay"/>
                    <ComboBoxItem Content="ðŸ‡µðŸ‡­ Filipino (Filipino)" Tag="Filipino"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡³ Bengali (à¦¬à¦¾à¦‚à¦²à¦¾)" Tag="Bengali"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡³ Tamil (à®¤à®®à®¿à®´à¯)" Tag="Tamil"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡³ Telugu (à°¤à±†à°²à±à°—à±)" Tag="Telugu"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡³ Marathi (à¤®à¤°à¤¾à¤ à¥€)" Tag="Marathi"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡³ Gujarati (àª—à«àªœàª°àª¾àª¤à«€)" Tag="Gujarati"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡³ Kannada (à²•à²¨à³à²¨à²¡)" Tag="Kannada"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡³ Malayalam (à´®à´²à´¯à´¾à´³à´‚)" Tag="Malayalam"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡³ Punjabi (à¨ªà©°à¨œà¨¾à¨¬à©€)" Tag="Punjabi"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡³ Urdu (Ø§Ø±Ø¯Ùˆ)" Tag="Urdu"/>
                    <ComboBoxItem Content="ðŸ‡µðŸ‡° Pashto (Ù¾ÚšØªÙˆ)" Tag="Pashto"/>
                    <ComboBoxItem Content="ðŸ‡¦ðŸ‡« Dari (Ø¯Ø±ÛŒ)" Tag="Dari"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡· Persian (ÙØ§Ø±Ø³ÛŒ)" Tag="Persian"/>
                    <ComboBoxItem Content="ðŸ‡¦ðŸ‡¿ Azerbaijani (AzÉ™rbaycan)" Tag="Azerbaijani"/>
                    <ComboBoxItem Content="ðŸ‡°ðŸ‡¿ Kazakh (ÒšÐ°Ð·Ð°Ò›)" Tag="Kazakh"/>
                    <ComboBoxItem Content="ðŸ‡ºðŸ‡¿ Uzbek (O'zbek)" Tag="Uzbek"/>
                    <ComboBoxItem Content="ðŸ‡°ðŸ‡¬ Kyrgyz (ÐšÑ‹Ñ€Ð³Ñ‹Ð·)" Tag="Kyrgyz"/>
                    <ComboBoxItem Content="ðŸ‡¹ðŸ‡¯ Tajik (Ð¢Ð¾Ò·Ð¸ÐºÓ£)" Tag="Tajik"/>
                    <ComboBoxItem Content="ðŸ‡¹ðŸ‡² Turkmen (TÃ¼rkmen)" Tag="Turkmen"/>
                    <ComboBoxItem Content="ðŸ‡²ðŸ‡³ Mongolian (ÐœÐ¾Ð½Ð³Ð¾Ð»)" Tag="Mongolian"/>
                    <ComboBoxItem Content="ðŸ‡¬ðŸ‡ª Georgian (áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜)" Tag="Georgian"/>
                    <ComboBoxItem Content="ðŸ‡¦ðŸ‡² Armenian (Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶)" Tag="Armenian"/>
                    <ComboBoxItem Content="ðŸ‡ªðŸ‡¹ Amharic (áŠ áˆ›áˆ­áŠ›)" Tag="Amharic"/>
                    <ComboBoxItem Content="ðŸ‡¿ðŸ‡¦ Afrikaans" Tag="Afrikaans"/>
                    <ComboBoxItem Content="ðŸ‡¿ðŸ‡¦ Zulu (isiZulu)" Tag="Zulu"/>
                    <ComboBoxItem Content="ðŸ‡¿ðŸ‡¦ Xhosa (isiXhosa)" Tag="Xhosa"/>
                    <ComboBoxItem Content="ðŸ‡°ðŸ‡ª Swahili (Kiswahili)" Tag="Swahili"/>
                    <ComboBoxItem Content="ðŸ‡³ðŸ‡¬ Yoruba (YorÃ¹bÃ¡)" Tag="Yoruba"/>
                    <ComboBoxItem Content="ðŸ‡³ðŸ‡¬ Igbo (Asá»¥sá»¥ Igbo)" Tag="Igbo"/>
                    <ComboBoxItem Content="ðŸ‡³ðŸ‡¬ Hausa (Harshen Hausa)" Tag="Hausa"/>
                </ComboBox>
                <TextBlock Text="Select the target language for translation" 
                          FontSize="11" Foreground="#666" Margin="0,4,0,0"/>
            </StackPanel>

            <!-- Program Language Section -->
            <StackPanel Grid.Row="4" Margin="0,0,0,20">
                <TextBlock Text="ðŸŒ Program Language" FontSize="14" FontWeight="Bold" Foreground="#424242" Margin="0,0,0,8"/>
                <ComboBox Name="ProgramLanguageComboBox" Style="{StaticResource ModernComboBox}">
                    <ComboBoxItem Content="ðŸ‡ºðŸ‡¸ English" Tag="en"/>
                    <ComboBoxItem Content="ðŸ‡¹ðŸ‡· TÃ¼rkÃ§e" Tag="tr"/>
                    <ComboBoxItem Content="ðŸ‡ªðŸ‡¸ EspaÃ±ol" Tag="es"/>
                    <ComboBoxItem Content="ðŸ‡«ðŸ‡· FranÃ§ais" Tag="fr"/>
                    <ComboBoxItem Content="ðŸ‡©ðŸ‡ª Deutsch" Tag="de"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡¹ Italiano" Tag="it"/>
                    <ComboBoxItem Content="ðŸ‡µðŸ‡¹ PortuguÃªs" Tag="pt"/>
                    <ComboBoxItem Content="ðŸ‡·ðŸ‡º Ð ÑƒÑÑÐºÐ¸Ð¹" Tag="ru"/>
                    <ComboBoxItem Content="ðŸ‡¯ðŸ‡µ æ—¥æœ¬èªž" Tag="ja"/>
                    <ComboBoxItem Content="ðŸ‡°ðŸ‡· í•œêµ­ì–´" Tag="ko"/>
                    <ComboBoxItem Content="ðŸ‡¨ðŸ‡³ ä¸­æ–‡" Tag="zh"/>
                    <ComboBoxItem Content="ðŸ‡¦ðŸ‡ª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©" Tag="ar"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€" Tag="hi"/>
                    <ComboBoxItem Content="ðŸ‡³ðŸ‡± Nederlands" Tag="nl"/>
                </ComboBox>
                <TextBlock Text="Select the interface language for the program" 
                          FontSize="11" Foreground="#666" Margin="0,4,0,0"/>
            </StackPanel>

            <!-- Custom Prompt Section -->
            <StackPanel Grid.Row="5" Margin="0,0,0,20">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0" Text="ðŸ“ Custom Prompt" FontSize="14" FontWeight="Bold" Foreground="#424242" Margin="0,0,0,8"/>
                    <Button Grid.Column="1" Name="ResetPromptBtn" Content="ðŸ”„ Reset" 
                           Click="ResetPromptBtn_Click" 
                           Style="{StaticResource ModernButton}" 
                           Background="#9E9E9E" 
                           FontSize="10" Height="24" Padding="8,2"/>
                </Grid>
                
                <TextBox Name="CustomPromptTextBox" 
                        Style="{StaticResource ModernTextBox}" 
                        Height="120" 
                        TextWrapping="Wrap" 
                        AcceptsReturn="True" 
                        VerticalScrollBarVisibility="Auto"
                        FontFamily="Consolas"
                        FontSize="11"/>
                        
                <TextBlock TextWrapping="Wrap" FontSize="11" Foreground="#666" Margin="0,4,0,0">
                    Customize the AI translation prompt. Use {LANGUAGE} for target language and {CONTEXT} for content type.
                </TextBlock>
            </StackPanel>

            <!-- Info Panel -->
            <Border Grid.Row="6" Background="#E8F5E8" CornerRadius="8" Padding="16" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="ðŸ’¡ Quick Tips" FontWeight="Bold" Foreground="#2E7D32" Margin="0,0,0,8"/>
                    <TextBlock TextWrapping="Wrap" FontSize="12" Foreground="#2E7D32">
                        â€¢ Get your free API key from https://aistudio.google.com<LineBreak/>
                        â€¢ Flash models are faster, Pro models are more accurate<LineBreak/>
                        â€¢ Rate limits are automatically optimized per model<LineBreak/>
                        â€¢ Translation cache reduces API costs<LineBreak/>
                        â€¢ 60+ languages supported for translation
                    </TextBlock>
                </StackPanel>
            </Border>

            <!-- Spacer -->
            <Grid Grid.Row="7"/>

            <!-- Action Buttons -->
            <StackPanel Grid.Row="8" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                <Button Name="CancelButton" Content="Cancel" 
                       Click="CancelButton_Click" 
                       Style="{StaticResource SecondaryButton}" 
                       Width="100" Margin="0,0,12,0"/>
                <Button Name="OkButton" Content="Save &amp; Apply" 
                       Click="OkButton_Click" 
                       Style="{StaticResource SuccessButton}" 
                       Width="120"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>